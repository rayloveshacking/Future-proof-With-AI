<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide-react@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-gray-900 text-white">
    <div class="flex h-full">
        <aside class="w-64 bg-gray-800 p-4  h-screen top-0 sticky">
            <div class="mb-8">
                <h2 class="text-xl font-semibold mb-2 px-4">Menu</h2>
            </div>
            <nav>
                <a href="/" class="block py-2 px-4 rounded hover:bg-gray-700">Upload</a>
                <a href="/results" class="block py-2 px-4 rounded hover:bg-gray-700">Results</a>
                <a href="/talent" class="block py-2 px-4 rounded hover:bg-gray-700">Talent</a>
            </nav>
            
            <!-- <a href="https://cdn.discordapp.com/attachments/1237600769230766111/1359728649787670599/IMG-20250410-WA0001.jpg?ex=67f8897c&is=67f737fc&hm=910477ec66e6dfdd59cb90c4471ed6b85726597a9912c8840ede081efbcf6d22&">
                <img class="h-12 w-auto mb-4" src="https://media.discordapp.net/attachments/1237600769230766111/1359755068726837248/IMG-20250410-WA0004.jpg?ex=67f8a217&is=67f75097&hm=52a0b8b2e686506bf7e34ff6d7a041d90aa5580b63aa4ca11ed0e9b3012bc0f7&=&format=webp&width=816&height=450" alt="Logo">
            </a> -->
        </aside>

        <main class="flex-1 p-10">
            <div class="max-w-4xl mx-auto">
                <div class="bg-gradient-to-r from-gray-700 to-gray-800 rounded-xl p-8 shadow-xl">
                    <h1 class="text-3xl font-bold text-center mb-8">
                        Upload Resume
                    </h1>

                    <form action="/" method="post" enctype="multipart/form-data" class="space-y-6">
                        <div class="space-y-4">
                            <label class="block text-sm font-medium"></label>
                            <div
                                class="border-2 border-dashed rounded-lg p-8 text-center border-gray-600 hover:border-gray-500"
                                ondragenter="handleDrag(event)"
                                ondragleave="handleDrag(event)"
                                ondragover="handleDrag(event)"
                                ondrop="handleDrop(event)"
                                id="dropzone"
                            >
                                <div class="flex flex-col items-center space-y-4">
                                    <div class="space-y-2">
                                        <p class="text-lg">
                                            Drag & drop your resume here or
                                            <input type="file" name="file" id="resume" class="hidden"
                                                onchange="document.getElementById('fileLabel').innerText = 'File uploaded: ' + this.files[0].name">
                                            <button type="button" class="text-blue-500 hover:text-blue-400 cursor-pointer"
                                                id="selectFile" onclick="document.getElementById('resume').click()">
                                                browse files
                                            </button>
                                        </p>
                                        <p class="text-sm text-gray-400">
                                            Supported formats: PDF, DOCX, DOC (Max 5MB)
                                        </p>
                                        <p id="fileLabel" class="text-sm text-gray-400"></p>
                                    </div>
                                </div>

                                <script>
                                    const fileInput = document.getElementById('resume');
                                    const fileName = document.getElementById('fileName');
                                    const fileLabel = document.getElementById('fileLabel');

                                    fileInput.addEventListener('change', (e) => {
                                        const file = fileInput.files[0];
                                        fileName.innerText = `File uploaded: ${file.name}`;
                                        fileLabel.classList.remove('hover:text-blue-400');
                                        fileLabel.classList.add('text-blue-700');
                                    });
                                </script>
                            </div>

                            <div class="flex items-center justify-center">
                                <span class="px-4 text-gray-400">OR</span>
                            </div>

                            <button
                                type="button"
                                class="w-full flex items-center justify-center space-x-2 py-3 px-4 bg-[#0077B5] hover:bg-[#006399] rounded-lg transition-colors"
                                id="linkedinButton"
                            >
                                <span>Import from LinkedIn</span>
                            </button>

                            <script>
                                const linkedinButton = document.getElementById('linkedinButton');

                                linkedinButton.addEventListener('click', (e) => {
                                    Swal.fire({
                                        title: 'LinkedIn profile URL',
                                        input: 'text',
                                        inputPlaceholder: 'https://www.linkedin.com/in/your-profile/',
                                        showCancelButton: true,
                                        confirmButtonText: 'Submit',
                                        confirmButtonColor: '#0077B5',
                                        cancelButtonColor: '#d33',
                                        inputValidator: (value) => {
                                            if (!value) return 'Please enter your LinkedIn profile URL';

                                            const url = new URL(value);
                                            if (url.hostname !== 'www.linkedin.com') return 'Invalid LinkedIn profile URL';

                                            document.getElementById('linkedinUrl').value = value;
                                        }
                                    });
                                });

                                const linkedinUrlInput = document.createElement('input');
                                linkedinUrlInput.type = 'hidden';
                                linkedinUrlInput.id = 'linkedinUrl';
                                linkedinUrlInput.name = 'linkedinUrl';
                                document.querySelector('form').appendChild(linkedinUrlInput);
                            </script>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label for="jobTitle" class="block text-sm font-medium mb-2">
                                    Target Job
                                </label>
                                <select
                                    id="jobTitle"
                                    name="role"
                                    class="w-full px-4 py-2 bg-gray-600 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    required
                                >
                                    <option value="">Select a job title</option>
                                    <option value="security-analyst">Security Analyst</option>
                                    <option value="senior-software-engineer">Senior Software Engineer</option>
                                    <option value="data-scientist">Data Scientist</option>
                                    <option value="product-manager">Product Manager</option>
                                </select>
                            </div>

                            <div>
                                <label for="jobDescription" class="block text-sm font-medium mb-2">
                                    Job Description (Optional)
                                </label>
                                <textarea
                                    id="jobDescription"
                                    name="jobDescription"
                                    class="w-full px-4 py-2 bg-gray-600 border border-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent h-32"
                                    placeholder="Paste the job description here for better matching..."
                                ></textarea>
                            </div>
                        </div>

                        <button
                            type="submit"
                            class="w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-400 hover:to-blue-600 rounded-lg font-medium transition-colors text-center inline-block"
                        >
                            Analyze Resume
                        </button>
                    </form>
                </div>
            </div>
        </main>
    </div>
    <script>
        function handleDrag(e) {
            e.preventDefault();
            e.stopPropagation();
            const dropzone = document.getElementById('dropzone');
            if (e.type === "dragenter" || e.type === "dragover") {
                dropzone.classList.add('border-blue-500', 'bg-blue-500/10');
            } else if (e.type === "dragleave") {
                dropzone.classList.remove('border-blue-500', 'bg-blue-500/10');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            const dropzone = document.getElementById('dropzone');
            dropzone.classList.remove('border-blue-500', 'bg-blue-500/10');
        }
    </script>
</body>
</html>